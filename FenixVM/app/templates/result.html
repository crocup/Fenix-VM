{% extends "base.html" %}
{% block userscript %}
<script type="text/javascript" charset="utf8" src="../static/js/tab.js"></script>
{% endblock %}
{% block content %}
<div class="column is-10" id="page-content">
        <section class="hero">
  <div class="content-header">
    <h2 class="title is-4"><span class="icon"><i class="fa fa-tasks"></i></span><strong>History</strong></h2>
<span class="separator"></span>
      <a class="button is-info" href="{{ url_for('main.result_task') }}">Refresh</a>
  </div>
</section>

    <div id="tabs">
        <div class="tabs is-left">
    <ul class="tabs-nav">
        <li><a href="#task"><span class="icon is-small"><i class="fa fa-tasks" aria-hidden="true"></i></span>Task</a></li>
		<li><a href="#log"><span class="icon is-small"><i class="fa fa-file-text" aria-hidden="true"></i></span>Logging</a></li>
	</ul>
            </div>

        <div class="tabs-items">
		<div class="tabs-item" id="task">
			<div class="table-container">
        <table id="table_id" class="display" style="width:100%">
        <thead>
            <tr>
                <th>Task name</th>
                <th>UUID</th>
                <th>Host</th>
                <th>Status</th>
                <th>Date</th>
            </tr>
        </thead>
        <tbody>
        {% for item in items %}
            <tr>
                <td>{{item.name}}</td>
                <td>{{item.uuid}}</td>
                <td>{{item.host}}</td>
                <td>Unknown</td>
                <td>{{item.time}}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
		</div>
		<div class="tabs-item" id="log">
			{% for item in logs %}
        <p>{{item}}</p>
        {% endfor %}
		</div>
	</div>
    </div>
</div>
<script type="text/javascript" class="init">
        $(document).ready(function() {
	    $('#table_id').DataTable( {
		"order": [[ 4, "desc" ]]
	        } );
        } );
</script>
{% endblock %}